<div class="facont-card">
  <h1>Идея в пост</h1>
  <p class="muted">
    Превратите свою идею в пост: напишите идею текстом или загрузите картинку/скриншот или наговорите ее голосом. Как вы хотите начать?
  </p>

  <!-- Табы -->
  <div class="facont-tabs" style="margin-top: 24px; margin-bottom: 24px; display: flex; gap: 10px;">
    <button class="facont-btn secondary" id="tab-btn-text" onclick="facontIdeaPostSwitchTab('text')">Ввести текст</button>
    <button class="facont-btn secondary" id="tab-btn-image" onclick="facontIdeaPostSwitchTab('image')">Загрузить картинку/скриншот</button>
    <button class="facont-btn secondary" id="tab-btn-voice" onclick="facontIdeaPostSwitchTab('voice')">Отправить голосовое в Telegram</button>
  </div>

  <!-- Контент таба: Текст -->
  <div id="tab-content-text" style="display: none;">
    <textarea id="idea-text-input" class="facont-textarea" style="width: 100%; height: 120px;" placeholder="Опишите вашу идею для поста..."></textarea>
    <div style="margin-top: 12px;">
      <button class="facont-btn" onclick="facontIdeaPostSubmitText()">Отправить</button>
    </div>
  </div>

  <!-- Контент таба: Картинка -->
  <div id="tab-content-image" style="display: none;">
    <div style="margin-bottom: 12px;">
      <input type="file" id="idea-image-input" accept="image/*">
    </div>
    <div>
      <button class="facont-btn" onclick="facontIdeaPostSubmitImage()">Отправить</button>
    </div>
  </div>

  <!-- Контент таба: Голос -->
  <div id="tab-content-voice" style="display: none;">
    <p class="muted" style="margin-bottom: 16px;">
      Мы используем Telegram-бот для удобной записи голосовых сообщений.<br>
      ИИ распознает вашу речь, очистит от слов-паразитов и напишет пост в вашем стиле.
    </p>
    <a href="https://t.me/facont_v1_bot?start=speak" target="_blank" class="facont-btn-primary" style="display:inline-block; text-decoration:none;">
      Отправить голосовое в Telegram
    </a>
  </div>

  <!-- Блок результата (скрыт по умолчанию) -->
  <div id="idea-result-block" class="card" style="margin-top:30px; display:none;">
    <h2>Результат</h2>
    <textarea id="idea-result-text" class="facont-textarea" style="height:240px;"></textarea>
    <div id="idea-save-error" class="facont-error" style="display:none; margin-top:10px;"></div>
    
    <div id="idea-actions" style="display:none; margin-top:30px; flex-direction: column;">
      <div class="facont-mb-16 facont-border-bottom-soft" style="padding-bottom:16px;">
        <button class="facont-btn" id="btn-save-idea-result">Сохранить в базу</button>
        <span id="idea-save-busy" style="display:none" class="spinner"></span>
        <div id="idea-save-status" class="facont-status"></div>
      </div>
    </div>
  </div>

  <div id="idea-error" class="facont-error" style="display:none; margin-top:12px;"></div>
  <span id="idea-busy" style="display:none" class="spinner"></span>
</div>
